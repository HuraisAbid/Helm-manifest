# ----------------------------
# Namespace
# ----------------------------
namespace: devops-app

# ----------------------------
# Frontend configuration
# ----------------------------
frontend:
  image:
    repository: abidhurais/helm-manifest-frontend
    tag: "PLACEHOLDER_TAG"   # ðŸ”¥ CI/CD pipeline dynamically replaces this with the next numeric version
  port: 8080
  replicas: 1

# ----------------------------
# Backend configuration
# ----------------------------
backend:
  image:
    repository: abidhurais/helm-manifest-backend
    tag: "PLACEHOLDER_TAG"   # ðŸ”¥ CI/CD pipeline dynamically replaces this with the next numeric version
  port: 3000
  replicas: 1

# ----------------------------
# Redis configuration
# ----------------------------
redis:
  image:
    repository: redis
    tag: "7-alpine"
  password: redis123

# ----------------------------
# Resource requests & limits
# ----------------------------
resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "200m"
    memory: "256Mi"

# ----------------------------
# Ingress
# ----------------------------
ingress:
  enabled: true
  host: ""       # Leave empty for testing; set your domain for production

# ----------------------------
# Horizontal Pod Autoscaler (HPA)
# ----------------------------
hpa:
  enabled: true
  frontend:
    minReplicas: 1
    maxReplicas: 2
    cpuThreshold: 50
  backend:
    minReplicas: 1
    maxReplicas: 2
    cpuThreshold: 50

# ----------------------------
# Network Policy
# ----------------------------
networkPolicy:
  enabled: true
  allowFrontendToBackend: true
  allowBackendToRedis: true
